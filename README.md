# 2024年国科大智能计算系统实验代码

## 项目介绍

本项目是国科大《智能计算系统》2024年新版实验部分的资料存档。2024年的智能计算系统实验内容对知识体系和实验题目进行了大范围的调整，调整内容包括但不限于以下几点：

- 不再使用TensorFlow，全面使用PyTorch
- 添加大模型相关实验

**重要：部分实验题目的配套数据集大小大于Github限制的100MB，因此本项目对其采取分卷压缩的方式进行上传，使用前请自行解压。如有采取此方式，项目会在章节目录下添加`必读.md`文件，如`实验题目/第三章/必读.md`**

## 项目状态

本项目跟随课程进度实时更新，预计2024年6月更新完毕

目前项目已更新至第四章实验，如有问题欢迎大家提出issue和pr

如果有帮到大家的话希望大家能给仓库留个Star~

### 实验得分

|           | score |
| :-------: | :---: |
|  exp_2_1  |  100  |
|  exp_2_2  |  100  |
|  exp_3_1  |  100  |
|  exp_3_2  |  100  |
|  exp_3_3  |  100  |
|  exp_4_1  |  100  |
|  exp_4_2  |  100  |
|  exp_4_3  |  100  |
|  exp_4_4  |  100  |
| 待更新... |       |

## 项目答案问题

### exp_4_4

#### 问题

在本地可以运行实验4.4，但是传到评测平台以后，编译完动态链接库要运行`test_hsigmoid.py`时就报错了，提示找不到`hsigmoid_extension`模块

#### 分析

把`hsigmoid.cpp`编译成`.so`动态链接库时，生成的动态链接库名不是`hsigmoid_extension.so`，而是`hsigmoid_extension.xxxx.so`。中间的`xxxx`包含了cpython版本和系统信息等。一般python会自动忽略中间的信息，因此在本机或者算力平台上代码都可以正确运行，不知道为什么评测平台上不会忽略中间的信息，导致模块无法被正确导入

#### 解决方法

投机取巧版的解决办法就是在本机上编译出`hsigmoid_extension.xxxx.so`，然后重命名为`hsigmoid_extension.so`。接着将`setup.py`中的代码进行注释，仅保留最后一行的`print("generate .so PASS!\n")`。然后在上传评测平台时把`hsigmoid_extension.so`也一起上传

正常的解决方法就是修改`setup.py`中的代码,让其编译`hsigmoid.cpp`时生成的动态链接库名字为`hsigmoid_extension.so`（提交时暂未实现该方法，有实现该方法的同学可以向仓库提交pr）
